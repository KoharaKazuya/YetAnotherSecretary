Yet Another Secretary
=====================

ゲーム「艦隊これくしょん」をプレイ専用のサポートブラウザです。


特徴
----

- 艦これが自由なサイズで遊べる（Flash をウィンドウ全体に拡大）
- 遠征終了などのイベントの発生時にユーザ定義の実行ファイルを実行
- ブラウザをカスタマイズする API の提供


構成
----

3 つのサブプロジェクトを内包し、それぞれ

- gui: ブラウザ
- proxy: ローカルで動作する Web プロキシ
- socket: gui が提供する API を叩くための実行ファイル

という役割があります。gui は proxy を通じて通信し、
proxy は通信中の艦これ API に使われるデータを解析します。
解析したデータが条件に一致していれば、対応したユーザー定義の
実行ファイルを実行します。  

ユーザー定義の実行ファイルは主にシェルスクリプトを想定し、
シェルスクリプトから gui の API を叩けるように socket を
用意してあります。


使い方
------

gui
---

第 1 引数にプロキシを指定。通常は`localhost:8080`を指定。
第 1 引数がなければプロキシを使用しない。

proxy
-----

第 1 引数に受付ポート番号を指定。デフォルトは`8080`。

socket
------

第 1 引数に API 名。第 2 引数以降は API の引数。


API
---

scripts ディレクトリ以下の`(API名)_`から始まる全実行ファイルを 
API のイベントが発生した時に呼び出す。

- `ensei_time`: 残り遠征時間がある場合 1 秒ごとに発生。第 1 引数に艦隊名、第 2 引数に残り秒数。
- `ensei_finish`: 遠征の修了時に発生。
